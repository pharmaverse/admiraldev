<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Guidance for git and GitHub Usage • admiraldev</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Guidance for git and GitHub Usage">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">admiraldev</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/admiraldev.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-developer-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Developer Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-developer-guides">
<li><a class="dropdown-item" href="../articles/programming_strategy.html">Programming Strategy</a></li>
    <li><a class="dropdown-item" href="../articles/writing_vignettes.html">Writing Vignettes</a></li>
    <li><a class="dropdown-item" href="../articles/unit_test_guidance.html">Unit Test Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/git_usage.html">Guidance for git and GitHub Usage</a></li>
    <li><a class="dropdown-item" href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/rcmd_issues.html">R CMD Issues</a></li>
    <li><a class="dropdown-item" href="../articles/release_strategy.html">Release Strategy</a></li>
    <li><a class="dropdown-item" href="../articles/test_data_guidance.html">Test Data Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/package_extensions.html">Package Extensions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiraldev" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Guidance for git and GitHub Usage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiraldev/blob/main/vignettes/git_usage.Rmd" class="external-link"><code>vignettes/git_usage.Rmd</code></a></small>
      <div class="d-none name"><code>git_usage.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article will give you an overview of how the
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> project is utilizing the version-control software
<code>git</code> and the website GitHub while working with RStudio. We
will go over the primary branches that house the source code for the
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> project as well as how we use
<strong>Feature</strong> branches to address <strong>Issues</strong>.
Issues can range from bugs to enhancements that have been identified or
requested by developers, users or testers. We also provide the bare
minimum of <code>git</code> commands needed to get up and running.
Please refer to the <a href="#github_resources">Resource</a> section for
more in-depth guidance on using <code>git</code> and GitHub.</p>
</div>
<div class="section level2">
<h2 id="branches">Branches<a class="anchor" aria-label="anchor" href="#branches"></a>
</h2>
<ul>
<li><p>The <code>main</code> branch contains the latest development
version of the package. You can find the released versions <a href="https://GitHub.com/pharmaverse/admiral/releases" class="external-link">here</a></p></li>
<li><p>The <code>gh-pages</code> branches contains the code used to
render R package websites - you are looking at right now!</p></li>
<li><p>The <code>patch</code> branch is reserved for special hot fixes
to address bugs and should rarely be used. More info in <a href="release_strategy.html#hot-fix-release">Hot Fix
Release</a></p></li>
<li><p>The <code>main</code>, <code>gh-pages</code>, <code>patch</code>
branches are under protection. If you try and push changes to these
branches you will get an error unless you are an administrator.</p></li>
<li><p><strong>Feature</strong> branches are where actual development
related to a specific issue happens. Feature branches are merged into
<code>main</code> once a pull request is merged. Check out the <a href="pr_review_guidance.html">Pull Request Review Guidance</a> for more
guidance on merging into <code>main</code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="working-with-feature-branches">Working with Feature Branches<a class="anchor" aria-label="anchor" href="#working-with-feature-branches"></a>
</h2>
<p>Feature Branches are where most developers will work when addressing
Issues.</p>
<div class="section level3">
<h3 id="implementing-an-issue">Implementing an Issue<a class="anchor" aria-label="anchor" href="#implementing-an-issue"></a>
</h3>
<p>Each feature branch must be related to an issue. We encourage new
developers to only work on one issue at a time.</p>
<div class="section level4">
<h4 id="naming-branches">Naming Branches<a class="anchor" aria-label="anchor" href="#naming-branches"></a>
</h4>
<p>The name of the branch must be prefixed with the issue number,
followed by a short but meaningful description. As an example, given an
issue #94 “Program function to derive <code>LSTALVDT</code>”, the branch
name would be <code>94_derive_var_lstalvdt</code>.</p>
</div>
<div class="section level4">
<h4 id="create-a-new-feature-branch-from-the-terminal-from-main">Create a New Feature Branch from the Terminal (from
<code>main</code>)<a class="anchor" aria-label="anchor" href="#create-a-new-feature-branch-from-the-terminal-from-main"></a>
</h4>
<ul>
<li>Checkout the main branch: <code>git checkout main</code><br>
</li>
<li>Pull the latest changes from GitHub: <code>git pull</code><br>
</li>
<li>Create a new branch off the main branch and switch to it:
<code>git checkout -b &lt;new_branch_name&gt;</code>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="create-a-new-feature-branch-from-github-from-main">Create a New Feature Branch from GitHub (from
<code>main</code>)<a class="anchor" aria-label="anchor" href="#create-a-new-feature-branch-from-github-from-main"></a>
</h4>
<p>You can also create a feature branch in GitHub.</p>
<ul>
<li>Switch to the <code>main</code> branch</li>
<li>Type in your new feature branch name</li>
<li>Click Create branch: <code>&lt;your_branch_name&gt;@main</code> from
<code>main</code>
</li>
<li>Be Sure to Pull down newly created branch into RStudio</li>
</ul>
<p><img src="github_feature_branch.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="commits-from-the-terminal-in-rstudio">Commits from the Terminal in RStudio<a class="anchor" aria-label="anchor" href="#commits-from-the-terminal-in-rstudio"></a>
</h4>
<p>To start the commit process, you will need to tell <code>git</code>
to move your changes to the staging area. Use
<code>git add &lt;your_file&gt;</code> to move all changes of
<code>&lt;your_file&gt;</code> in the staging area to wait for the next
commit. You can use <code>git add .</code> to move all files you have
worked on to the staging area. Next you can commit, which takes a
snapshot of your staged changes. When committing, prefix the message
with the issue number and add a meaningful message
<code>git commit –m '#94 last alive date implementation'</code>.</p>
<p>Lastly, you should push your changes up to GitHub using
<code>git push origin &lt;branch name&gt;</code></p>
</div>
<div class="section level4">
<h4 id="commits-from-the-git-tab-in-rstudio">Commits from the Git Tab in RStudio<a class="anchor" aria-label="anchor" href="#commits-from-the-git-tab-in-rstudio"></a>
</h4>
<p>You can also make use of the Git Tab within RStudio to commit your
changes. A benefit of using this Tab is being able to see your changes
to the file with red and green highlighting. Just like in the terminal,
start the message with the issue number and add a meaningful and
succinct sentence. Hit the Commit button and then Push up to GitHub.</p>
<p><img src="github_committ.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="commit-message-etiquette">Commit Message Etiquette<a class="anchor" aria-label="anchor" href="#commit-message-etiquette"></a>
</h4>
<p>We require developers to <strong>insert the issue number</strong>
into each commit message. Placing the issue number in your commit
message allows reviewers to quickly find discussion surrounding your
issue. When pushed to GitHub the issue number will be hyperlinked to the
issue tracker, a powerful tool for discussion and traceability, which we
think is valuable in a highly regulated industry like Pharma.</p>
<p>Below are styles of commit messaging permitted:</p>
</div>
<div class="section level4">
<h4 id="style-1">Style 1:<a class="anchor" aria-label="anchor" href="#style-1"></a>
</h4>
<ul>
<li><code>feat: #94 skeleton of function developed</code></li>
<li><code>chore: #94 styler and lintr update</code></li>
<li><code>docs: #94 parameters and details sections compelted</code></li>
</ul>
</div>
<div class="section level4">
<h4 id="style-2">Style 2:<a class="anchor" aria-label="anchor" href="#style-2"></a>
</h4>
<ul>
<li><code>#94 skeleton of function developed</code></li>
<li><code>#94 styler and lintr update</code></li>
<li><code>#94 parameters and details sections compelted</code></li>
</ul>
</div>
<div class="section level4">
<h4 id="style-3">Style 3:<a class="anchor" aria-label="anchor" href="#style-3"></a>
</h4>
<ul>
<li><code>skeleton of function developed (#94)</code></li>
<li><code>styler and lintr update (#94)</code></li>
<li><code>parameters and details sections compelted (#94)</code></li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="pull-request">Pull request<a class="anchor" aria-label="anchor" href="#pull-request"></a>
</h3>
<p>We recommend a thorough read through of the articles, <a href="pr_review_guidance.html">Pull Request Review Guidance</a> and the
<a href="programming_strategy.html">Programming Strategy</a> for
in-depth discussions on a doing a proper Pull Request.Pull Request
authors will benefit from shorter review times by closely following the
guidance provided in those two articles. Below we discuss some simple
<code>git</code> commands in the terminal and on GitHub for doing a Pull
Request. We recommend doing the Pull Request in GitHub only and not
through the terminal.</p>
<p>Once all changes are committed, push the updated branch to
GitHub:<br><code>git push -u origin &lt;branch_name&gt;</code></p>
<p>In GitHub, under <strong>Pull requests</strong>, the user will either
have a “Compare and pull request” button and/or a “Create Pull Request”.
The first button will be created for you if GitHub detects recent
changes you have made. The branch to merge with must be the
<code>main</code> branch (base = <code>main</code>) and the compare
branch is the new branch to merge - as shown in the below picture.
Please <strong>pay close attention</strong> to the branch you are
merging into!</p>
<p><img src="github_create_pr.png"><!-- --></p>
<p>The issue must be linked to the pull request in the “Development”
field of the Pull Request. In most cases, this will linkage will
automatically close the issue and move to the Done column on our project
board.</p>
<p><img src="github_linked_issues_dark.png"><!-- --></p>
<p>Once you have completed the Pull Request you will see all committed
changes are then available for the reviewer. A reviewer must be
specified in the Pull Request. It is recommended to write a brief
summary to your reviewers so they can quickly come up to speed on your
Pull Request. Images of your updates are nice too, which are easy to do
in GitHub! Use any Screen Capture software and Copy and Paste into your
summary.</p>
<div class="section level4">
<h4 id="reviewingclosing-an-issue">Reviewing/Closing an Issue<a class="anchor" aria-label="anchor" href="#reviewingclosing-an-issue"></a>
</h4>
<ul>
<li>At least one reviewer must approve the Pull Request. Please review
the <a href="pr_review_guidance.html">Pull Request Review Guidance</a>,
which provides in depth guidance on doing a proper Pull Request.</li>
<li>The reviewer must ensure that the function follows the programming
strategy recommendations.</li>
<li>Any comment/question/discussion must be addressed and documented in
GitHub before the Pull Request is merged</li>
</ul>
<p>Once the review is completed, the reviewer will merge the Pull
Request and the feature branch will automatically be deleted.</p>
<p>After merging the Pull Request please check that corresponding has
been moved to the done column on the Project Board. Also, please make
sure that the issue has closed.</p>
<p><img src="github_done.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="solving-merge-conflicts-in-the-terminal-on-rstudio">Solving Merge Conflicts in the Terminal on RStudio<a class="anchor" aria-label="anchor" href="#solving-merge-conflicts-in-the-terminal-on-rstudio"></a>
</h4>
<p>Merge conflict is a situation where <code>git</code> cannot decide
which changes to apply since there were multiple updates in the same
part of a file. This typically happens when multiple people update the
same part of code. Those conflicts always need to be handled manually
(as some further code updates may be required):</p>
<pre><code>git checkout main
git pull
git checkout &lt;feature_branch&gt;  
git merge main</code></pre>
<p>This provides a list of all files with conflicts In the file with
conflicts the conflicting sections are marked with
<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and
<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>. The code between these
markers must be updated and the markers be removed. Source files need to
be updated manually. Generated files like NAMESPACE or the generated
documentation files should not be updated manually but recreated after
the source files were updated.</p>
<p>To make the changes available call:</p>
<pre><code>git add &lt;file with conflict&gt; 
git commit -m "&lt;insert_message&gt;"
git push</code></pre>
</div>
<div class="section level4">
<h4 id="solving-merge-conflicts-in-github">Solving Merge Conflicts in GitHub<a class="anchor" aria-label="anchor" href="#solving-merge-conflicts-in-github"></a>
</h4>
<p>For simple merge conflicts, developers can make use of the GitHub
interface to solve them. GitHub will show the number of conflicts
between the two branches. In the below image, GitHub has found 3
conflicts, but we only display the first one. Just like in the terminal,
GitHub will make use of the <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>,
<code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> to
highlight the conflicting sections. You will need to make the decision
on whether to keep the code from the base or the feature branch. Once
you have decided, go into the code and remove the section you no longer
wish to keep. Be sure to remove the
<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and
<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> as well! Once you work through
the conflicts you will mark as <strong>Resolved and Commit your
changes</strong>. It is recommended to pull your branch back down to
RStudio to make sure no untoward effects have happen to your branch.</p>
<p><img src="github_conflicts.png"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="useful-git-commands">Useful <code>git</code> Commands<a class="anchor" aria-label="anchor" href="#useful-git-commands"></a>
</h3>
<ul>
<li>merging: <code>git merge &lt;my_branch&gt;</code> - merge my_branch
into current branch<br>
</li>
<li>The stashing commands are useful when one wants to go back to clean
directory</li>
<li>
<code>git stash</code> - stash (store) current changes and restore a
clean directory<br>
</li>
<li>
<code>git stash pop</code> - put back (restore) stashed
changes<br>
</li>
<li>
<code>git revert</code> is also helpful but why?</li>
</ul>
<p><strong>Using code from unmerged branches</strong></p>
<ul>
<li>Checkout the unmerged branch you want to use:
<code>git checkout &lt;unmerged_branch&gt;</code><br>
</li>
<li>Pull the latest committed changes from the unmerged branch:
<code>git pull</code><br>
</li>
<li>Check out your feature branch:
<code>git checkout &lt;my_branch&gt;</code><br>
</li>
<li>Merge the unmerged branch to <my_branch>:
<code>git merge &lt;unmerged_branch&gt;</code></my_branch>
</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="github_resources">Resources on using <code>git</code>, GitHub and RStudio<a class="anchor" aria-label="anchor" href="#github_resources"></a>
</h2>
<ul>
<li><a href="https://resources.github.com/whitepapers/github-and-rstudio/" class="external-link">GitHub
and RStudio</a></li>
<li><a href="https://happygitwithr.com/" class="external-link">Happy Git and GitHub for the
useR</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Straub, Stefan Bundfuss, Jeffrey Dickinson, Ross Farrugia, Fanny Gautier, Edoardo Mancini, Sadchla Mascary, Gordon Miller, Daniel Sjoberg, Stefan Thoma, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

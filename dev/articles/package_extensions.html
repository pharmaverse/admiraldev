<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="admiraldev">
<title>Package Extensions • admiraldev</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package Extensions">
<meta property="og:description" content="admiraldev">
<meta property="og:image" content="https://pharmaverse.github.io/admiraldev/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">admiraldev</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/admiraldev.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-developer-guides">Developer Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-developer-guides">
    <a class="dropdown-item" href="../articles/programming_strategy.html">Programming Strategy</a>
    <a class="dropdown-item" href="../articles/writing_vignettes.html">Writing Vignettes</a>
    <a class="dropdown-item" href="../articles/unit_test_guidance.html">Unit Test Guidance</a>
    <a class="dropdown-item" href="../articles/git_usage.html">Guidance for git and GitHub Usage</a>
    <a class="dropdown-item" href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a>
    <a class="dropdown-item" href="../articles/rcmd_issues.html">R CMD Issues</a>
    <a class="dropdown-item" href="../articles/release_strategy.html">Release Strategy</a>
    <a class="dropdown-item" href="../articles/test_data_guidance.html">Test Data Guidance</a>
    <a class="dropdown-item" href="../articles/package_extensions.html">Package Extensions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaverse/admiraldev" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Package Extensions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiraldev/blob/main/vignettes/package_extensions.Rmd" class="external-link"><code>vignettes/package_extensions.Rmd</code></a></small>
      <div class="d-none name"><code>package_extensions.Rmd</code></div>
    </div>

    
    
<style type="text/css">
.github-button {
  display: inline-block;
  padding: 2px 5px;
  background-color: #e5e5e5;
  color: #333;
  border: 0px solid #ccc;
  border-radius: 20px;
  font-size: 1em;
  margin: 0 0px;
}

.github-button.firstissue {
  background-color: #7057FF;
  color: #fff;
}

.github-button.helpwanted {
  background-color: #008672;
  color: #fff;
}

</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> is made up of a family of packages and we
foresee this only growing over time to cover more specific areas such as
TA (Therapeutic Area) package extensions, with a wider range of
companies and individuals getting on board to join development efforts.
This step-by-step guidance talks through our recommendations on how new
development teams would go about creating such package extensions. It is
critical that this guidance is followed, as our users need to feel a
consistent experience when working across <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a>
packages. If an <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> package extension doesn’t follow
these conventions then we wouldn’t include it under pharmaverse and as
part of the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> family.</p>
</div>
<div class="section level2">
<h2 id="step-by-step-guidance-to-create-a-package-extension">Step-by-step Guidance to Create a Package Extension<a class="anchor" aria-label="anchor" href="#step-by-step-guidance-to-create-a-package-extension"></a>
</h2>
<p><em>Note: The ordering numbers below are suggested but don’t all need
to strictly be followed in this sequence.</em></p>
<ol style="list-style-type: decimal">
<li><p>Raise the need for a new <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> package extension
on the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> <a href="https://app.slack.com/client/T028PB489D3/C02M8KN8269" class="external-link">Slack
channel</a>, or directly with the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> package
maintainer. The naming convention needs to be <code>{admiralxxx}</code>
and we request that the scope is not targeted overly narrow, for example
instead of a package extension for HIV we’d prefer one across virology.
Otherwise the number of packages may become unmanageable.</p></li>
<li><p>Once agreed, reach out to other company contacts working in
similar areas to see if a collaborative development can be achieved.
<em>Our recommendation here is always to target at least 2 companies to
start so that any implementation remains robust and we protect from
going down a company-specific route. However, consider that if more than
4 or 5 companies get involved too early it may slow down
decision-making.</em></p></li>
<li><p>From the companies that agree to co-develop, identify a lead from
each. One company should act as the driver for the overall package
extension and put forward a product owner and technical lead who
ultimately have final say on any contentious decisions. The product
owner would cover project decisions (e.g. around scope and priorities),
whereas the technical lead would cover technical decisions (e.g. around
design and implementation). <em>The technical lead should either: a)
already be significantly involved in the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> core
development team as a developer/contributor, or b) join the core
development team simultaneously.</em> This is so as to ensure that the
design is kept true to the manifesto and of consistent style and quality
with respect to <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> standards.</p></li>
<li><p>Agree on a charter and expectations of each company, e.g. we
usually ask for at least 3 developers with at least 25% capacity and a
mix of R, GitHub and TA experience. Within the charter make sure the
scope and timelines are clear. <em>It is important here not to try to
boil the ocean. Focus first on the very common endpoints required as a
foundation and then the package can build up from here via contributions
from both the co-development companies and also the wider
across-industry admiral community. If useful, the
<a href="https://pharmaverse.github.io/admiralonco/" class="external-link">admiralonco</a> charter could be shared as a
guide.</em></p></li>
<li><p>Each company should start to identify the required developer
resources. Then each developer is required to complete the
<code>{admiral</code>} <a href="https://github.com/pharmaverse/admiral/issues/1839" class="external-link">dummy issue
for onboarding</a>, as well as reading up on the <a href="https://pharmaverse.github.io/admiraldev/index.html">admiraldev
documentation</a>, - especially the developer guides, which all need to
be followed for package extensions.</p></li>
</ol>
<div class="float">
<img src="https://github.com/pharmaverse/admiraldev/raw/main/vignettes/dummy_issue.png" style="width:100.0%" alt="Dummy issue for new developers"><div class="figcaption">Dummy issue for new developers</div>
</div>
<ol style="list-style-type: decimal">
<li><p>Optionally it can be useful to host a kick-off meeting to decide
how the team will work, for which we recommend agile/scrum
practices.</p></li>
<li><p>Set up a “admiralxxx_dev” channel on Slack to add all team
members to for informal team chat, and agree a way to share working
documents across the co-development team. We recommend to use a new
folder on the pharmaverse MS Teams - Michael Rimler (<a href="mailto:michael.s.rimler@gsk.com" class="email">michael.s.rimler@gsk.com</a>) could help with this as our
rep on the PHUSE board.</p></li>
<li><p>A useful starter development activity could be to look into
<a href="https://pharmaverse.github.io/pharmaversesdtm/main/" class="external-link">pharmaversesdtm</a> to check that the test data there is
sufficient for your TA needs, e.g. for <a href="https://pharmaverse.github.io/admiralonco/" class="external-link">admiralonco</a> we had
to generate new test data for SDTM domains such as RS and TU. Note that
no personal data should be used here (even if anonymized) and it is
important to keep any data generated in-line with the CDISC pilot data
we use here, i.e. use same USUBJIDs as DM etc.</p></li>
<li><p>Optionally draft, agree and sign a collaboration agreement if the
collaborating companies so wish, as this could be useful for protecting
secondary IP such as company standard specifications that may be shared
within the team. An example is stored <a href="https://github.com/pharmaverse/pharmaverse/blob/main/content/contribute/Pharmaverse%20Collaborative%20Agreement%20(template).docx" class="external-link">here</a>,
but work with your Legal teams as required.</p></li>
<li><p>Share company-specific implementations and specifications to be
able to harmonize into your design strategy for the package extension.
<em>Here it is important to remain pragmatic and consider a higher
perspective than any one company. Engage your company standards
representatives and where you find discrepancies across company
approaches then question if you really need to be doing things
differently here (do health authorities or patients benefit at all if
you do?). Also consider that we always expect a level of
company-specifics to be covered in the internal company package
extensions.</em></p></li>
<li><p>Set up a new public GitHub repo under the <a href="https://github.com/pharmaverse" class="external-link">pharmaverse org</a> using <a href="https://github.com/pharmaverse/admiraltemplate" class="external-link">admiraltemplate</a>
- this includes set-up pieces (such as CI/CD checks and issue/PR
templates) that will enable your package to stay consistent with others
in the admiral family, as well as the same core package dependencies and
versions. See the <code>{admiraltemplate}</code> <a href="https://pharmaverse.github.io/admiraltemplate/#quick-start-guide-for-template" class="external-link">Quick
Start Guide</a> <em>Note that this step requires org member access which
could be granted by of the pharmaverse council reps, who are admins for
this org. Also you are free to add additional package dependencies as
needed assuming only reliable packages are used, but they must not
depend on newer versions of other packages (always reply “no” if updates
are suggested during installation).</em>
<iframe src="https://pharmaverse.github.io/admiraltemplate/" width="100%" height="800" title="`admiral` package template"></iframe></p></li>
<li><p>Once the repo is available the technical lead could be granted
admin access to this repo and then could set up a GitHub team with the
same name as the package extension to assign required access for all
other co-development team members. Most will only require write access,
but you may choose to give the other leads admin access as well so that
never a bottle-neck waiting on one person.</p></li>
<li><p>Update the template license file in your repo by adding the
co-development company names in place of Roche &amp; GSK - for
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> package extensions we use Apache 2.0, which is
our preferred permissive license. Agree with the co-development
companies any required extra wording for the copyright/IP
section.</p></li>
<li><p>Set up a project board, such as <a href="https://github.com/orgs/pharmaverse/projects/12" class="external-link">this</a>, to help
manage your backlog. <img src="https://github.com/pharmaverse/admiraldev/raw/main/vignettes/project_board.png" style="width:100.0%" alt="admiral core project board"></p></li>
<li><p>Assuming you work under agile/scrum, then create a product
backlog, prioritize and make a sprint plan.</p></li>
<li><p>The intention is always to re-use as much as possible from
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> core package. If you find anything additional
needed for the package extension, you should first question whether it
might be a common need for other TAs and if so consider instead raising
an issue to <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> core. When designing new functions
always try to stay aligned with the <a href="https://pharmaverse.github.io/admiraldev/articles/programming_strategy.html">Programming
Strategy</a>.</p></li>
<li><p>Start development of your foundational first release 0.1.0.
Follow a consistent <a href="https://pharmaverse.github.io/admiral/dev/CONTRIBUTING.html" class="external-link">Development
Process</a> to <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a>.</p></li>
<li><p>Line up testers from your companies and others and set
expectations around when you believe a stable version would be available
for user testing. You can use the admiral Slack community to raise
interest to get involved.</p></li>
<li><p>Add a pharmaverse badge to your README: <a href="https://pharmaverse.org/contribute/badges/" class="external-link uri">https://pharmaverse.org/contribute/badges/</a> - needs
support from a pharmaverse council rep.<br><a href="https://pharmaverse.org/contribute/badges/" class="external-link"><img src="http://pharmaverse.org/shields/admiral.svg"></a></p></li>
<li><p>Raise an <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> repo issue to ensure your package
extension site is linked from the core <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> site here
<a href="https://pharmaverse.github.io/admiral/" class="external-link">here</a>.`</p></li>
<li><p>It is important that the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> family of
packages keep to a similar release schedule and cadence, in order to
ease adoption by our users and to give clear expectations. The
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> core package cadence of releases is one every
quarter on a fixed schedule (every first Monday of the last month of a
quarter - March, June, September, December). The core package will set
the release schedule for the package extensions to follow, i.e. once
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> releases we’d expect package extension releases
targeted within a 2 week window. These releases are communicated via our
Slack channel as well as at our quarterly user community
meetings.</p></li>
<li><p>Once you are happy your package extension has been well tested
and is at a sufficient state then make a submission to CRAN. The
technical lead should be named as maintainer. After the CRAN release,
you should advertise this via Slack &amp; LinkedIn.</p></li>
<li><p>Plan any future further enhancements and make issues. When your
team feels ready you can open up to development contributions for these
from the wider community - see <a href="https://pharmaverse.github.io/admiral/" class="external-link">this page</a>. Please use
the <span class="github-button firstissue">good first issue</span>
(ideal for new starters) &amp; <span class="github-button helpwanted">help wanted</span> (ideal for more
experienced contributors) issue labels.</p></li>
</ol>
<p><strong>Note</strong>: the core <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> team will
carry out periodic reviews of of the extension package contents to
ensure nothing is duplicated and ensure standards and best practices are
followed. The frequency of these reviews is to be agreed upon by the
technical leads of the core and extension packages.</p>
</div>
<div class="section level2">
<h2 id="lessons-learned">Lessons Learned<a class="anchor" aria-label="anchor" href="#lessons-learned"></a>
</h2>
<p>These are some of the lessons learned from previous package
extensions:</p>
<ul>
<li><p>Since ADaM is conceived as TA-agnostic, and TA standards can
widely differ across companies, TA package extensions shouldn’t contain
many new functions. That is, most functionality required to create and
ADaM should be present in <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a>, with localized and
limited exceptions for truly TA-specific variables/endpoints. As such,
<em>the R folder in package extensions should be relatively
lean</em>!</p></li>
<li><p>Connected to the above, a package extension is more than just R
functions - it is also vignettes examples and template programs. In
fact, these are just as important as the R functions itself, because
that is what the users will turn to for guidance.</p></li>
<li><p>Making sure the package is always up-to-date with respect to new
<a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> releases (e.g. due to the deprecation of
functions) is a crucial task. Maintaining the package long-term is the
only way to ensure its success.</p></li>
<li><p><em>Beware of developing just for the sake of developing!</em>
You may find that you reach a point of stasis in your extension package
journey, where there is not much need for new development. In that case,
it vital to avoid working on tangential tasks. Instead, the focus should
be on ensuring that existing is as fit-for-purpose as possible.</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ben Straub, Stefan Bundfuss, Jeffrey Dickinson, Ross Farrugia, Pooja Kumari, Edoardo Mancini, Sadchla Mascary, Zelos Zhu, Ania Golab, Samia Kabi, Syed Mubasheer, Thomas Neitmann, Ondrej Slama, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

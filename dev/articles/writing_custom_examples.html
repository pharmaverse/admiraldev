<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Writing Custom Examples • admiraldev</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Writing Custom Examples">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">admiraldev</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.1.9009</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/admiraldev.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-developer-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Developer Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-developer-guides">
<li><a class="dropdown-item" href="../articles/programming_strategy.html">Programming Strategy</a></li>
    <li><a class="dropdown-item" href="../articles/writing_vignettes.html">Writing Vignettes</a></li>
    <li><a class="dropdown-item" href="../articles/writing_custom_examples.html">Writing Custom Examples</a></li>
    <li><a class="dropdown-item" href="../articles/unit_test_guidance.html">Unit Test Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/git_usage.html">Guidance for git and GitHub Usage</a></li>
    <li><a class="dropdown-item" href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/rcmd_issues.html">R CMD Issues</a></li>
    <li><a class="dropdown-item" href="../articles/release_strategy.html">Release Strategy</a></li>
    <li><a class="dropdown-item" href="../articles/test_data_guidance.html">Test Data Guidance</a></li>
    <li><a class="dropdown-item" href="../articles/package_extensions.html">Package Extensions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiraldev" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Writing Custom Examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiraldev/blob/main/vignettes/writing_custom_examples.Rmd" class="external-link"><code>vignettes/writing_custom_examples.Rmd</code></a></small>
      <div class="d-none name"><code>writing_custom_examples.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette serves as a primer to help write detailed and
consistent Examples Sections in function documentation using the custom
<code><a href="../reference/rdx_roclet.html">rdx_roclet()</a></code> , which lives in the {admiraldev} package
functionality - please see <code><a href="../reference/demo_fun.html">demo_fun()</a></code> for a dummy example
and <a href="https://github.com/pharmaverse/admiral/blob/main/R/derive_extreme_records.R" class="external-link"><code>derive_extreme_records.R</code>
in admiral</a> for an example of this in action. These examples are
often beneficial for the more complex {admiral} functions to help answer
questions like: “what does this function do?” or “how does this argument
work?”.</p>
<p>In practice, the guidance shown below cannot always be applied to the
letter, because each function and its context are different and may have
varying requirements. As such, developers are encouraged to treat these
directives heuristically and always apply their judgment when
constructing Examples Sections.</p>
</div>
<div class="section level2">
<h2 id="how-to-use-the-caption-info-and-code-tags-together-in-a-block">How to use the <code>@caption</code>, <code>@info</code> and
<code>@code</code> tags together in a “block”<a class="anchor" aria-label="anchor" href="#how-to-use-the-caption-info-and-code-tags-together-in-a-block"></a>
</h2>
<p>The Examples Section should consist of a series of example blocks,
usually made up of one call each to <code>@caption</code>,
<code>@info</code> and <code>@code</code>. See the example below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @examplesx</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @caption Showcasing the first functionality of `fun()` (`arg1`)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @info This is the detailed text for the first example.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @code</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' fun(arg1 = TRUE)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @caption Showcasing the second functionality of `fun()` (`arg2`)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @info This is the detailed text for the first example.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @code</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' fun(arg2 = FALSE)</span></span></code></pre></div>
<p>Within each block:</p>
<ul>
<li>The <code>@caption</code> tag should be used to provide a brief
description of the example. This is the text which will show up in the
table of contents on the right hand side of the function documentation.
If possible and/or relevant, the text should specify which argument(s)
are being showcased in that example.</li>
<li>The <code>@info</code> tag should be used to provide a more detailed
description of the example. If relevant, it should contain some context
behind the example (i.e.  <strong>why</strong> this may be a relevant
scenario to consider).</li>
<li>The <code>@code</code> tag should be used to provide the code for
the example. The code should be as self-contained as possible. The
dataset/object being created should be printed at the end of the
section.</li>
</ul>
<p>Note that a more complex block may also have multiple
<code>@info</code> and<code>@code</code> sections after the
<code>@caption</code> if it is particularly involved.</p>
<div class="float">
<img src="custom_roclet_example.png" alt="Here is what a block and table of contents look like (taken from admiral::derive_vars_dt()."><div class="figcaption">Here is what a block and table of contents look
like (taken from <code>admiral::derive_vars_dt()</code>.</div>
</div>
</div>
<div class="section level2">
<h2 id="how-to-sequence-your-blocks">How to sequence your blocks<a class="anchor" aria-label="anchor" href="#how-to-sequence-your-blocks"></a>
</h2>
<p>Successive example blocks should build in complexity. The first
examples should showcase the most “minimal” execution of the function,
with only the required arguments being triggered and the default values
discussed. The data in these examples should be as concise as possible
and may not be ADaM compliant, e.g., <code>STUDYID</code> may not be
included or <code>AVISITN</code> may be present without
<code>AVISIT</code>.</p>
<p>Later blocks should then bring in one/a few more arguments at a time
as the use-case becomes more involved. If possible, they should build on
top of earlier blocks (i.e. use the same data but changing the scope of
the function call to add complexity), but if this is not possible, then
new scenarios can be considered.</p>
<p>As mentioned previously, all example blocks should answer questions
like “what does this function do?” or “how does this argument
work?”.</p>
</div>
<div class="section level2">
<h2 id="data-sections">Data sections<a class="anchor" aria-label="anchor" href="#data-sections"></a>
</h2>
<p>If all examples can be run on the same/similar data, you may wish to
(optionally) include a “Data setup” block at the start of the Examples
Section to create the dummy dataset(s) that can then be used in each
block. Please see <a href="https://pharmaverse.github.io/admiral/main/reference/derive_summary_records.html#examples" class="external-link">derive_summary_records()</a>
as an example.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by F. Hoffmann-La Roche AG, GlaxoSmithKline LLC, Ben Straub, Stefan Bundfuss, Jeffrey Dickinson, Ross Farrugia, Fanny Gautier, Edoardo Mancini, Gordon Miller, Daniel Sjoberg, Stefan Thoma.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
